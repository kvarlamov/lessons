Логика
Сервис выполнения бэкапа движений в s3 хранилище
Задача модуля выполнить бэкап, корректно разбив входящее множество движений на батчи и после успешной
обработки обновить состояние задачи в БД, в ином случае отловить ошибку обработки

Предусловия 
    -- задача не null и валидна
    -- размеры батча > 0s
Постусловия
    -- задача обновлена и бэкап выполнен
    -- ошибки сохранены в бд

Изначальный код совершенно скрывал дизайн -- сложный цикл с проверками и мутабельным состоянием,
отсутствие явной структуры, сложность тестирования и поддержки
    
Метод ProcessTask переделан в декларативный формат -- повторяющий дизайн -> проверяем предусловия, 
выполняем обработку (делаем бэкап), обновляем состояние задачи в БД, при необходимости обрабатываем ошибки.

Детали реализации спрятаны в отдельные методы, что при необходимости быстро позволит провести рефакторинг и выделить 
отдельные модули при усложнении логики.

